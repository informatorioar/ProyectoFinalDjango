{% extends "padre.html" %}
{% block loquecambia %}

<div class="container py-4 text-center">

    <p class="mb-2">Has buscado: <strong style="color: #ffc107;">{{query}}</strong></p>

    {% if productos %}
        <p class="mb-4">Películas encontradas: <strong>{{productos|length}}</strong> película{% if productos|length > 1 %}s{% endif %}</p>

        <div class="table-responsive m-2">
            <table class="table table-bordered table-dark align-middle shadow-sm">
                <thead style="background-color: #ffc107; color: #212529;">
                    <tr>
                        <th scope="col">Cód. película #</th>    
                        <th scope="col">Película</th>
                        <th scope="col">Género</th>
                        <th scope="col">Reseña</th>
                        <th scope="col">Puntaje</th>
                        <th scope="col">Póster</th>
                    </tr>
                </thead>
                <tbody>
                    {% for p in productos %}
                    <tr>
                        <th scope="row">00{{p.pk}}</th>
                        <td>{{p.articulo}}</td>
                        <td>{{p.seccion}}</td>
                        <td>{{p.descripcion}}</td>
                        <td>{{p.precio_unitario}}</td>
                        <td>
                            <img src="{{p.imagen.url}}" alt="{{p.articulo}}"
                                 style="max-width: 8em; border-radius: 6px; box-shadow: 0 4px 10px rgba(0,0,0,0.4);">
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    {% else %}
        <h2 style="font-size: 3em; margin-top: 2em;">❌</h2>
        <p style="font-size: 1.4em; color: #ffc107;"><strong>La película buscada no se encuentra.</strong></p>
    {% endif %}

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
crossorigin="anonymous"></script>

{% endblock %}
